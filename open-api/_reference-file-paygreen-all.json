{"swagger":"2.0","info":{"title":"Int\u00e9gration de PayGreen par API","description":"# API d\u0027int\u00e9gration compl\u00e8te\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nCette documentation est la compilation de toutes nos documentations d\u0027int\u00e9gration de la solution de paiement PayGreen, qu\u0027il s\u0027agisse d\u0027une int\u00e9gration simple, sur un CMS ou sur une marketplace notamment.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nSi vous int\u00e9grez PayGreen dans une optique bien pr\u00e9cise, n\u0027h\u00e9sitez pas \u00e0 consulter nos documentations simplifi\u00e9es\u0026nbsp;:\u003Cbr \/\u003E\n- [API de paiement](api-documentation-categorie?cat=paiement)\u0026nbsp;: la documentation pour int\u00e9grer le plus simplement PayGreen sur votre e-commerce.\u003Cbr \/\u003E\n- [API d\u0027int\u00e9gration sur un CMS](api-documentation-categorie?cat=cms)\u0026nbsp;: int\u00e9grez PayGreen sur votre CMS.\u003Cbr \/\u003E\n- [API d\u0027int\u00e9gration pour une MarketPlace](api-documentation-categorie?cat=mkp)\u0026nbsp;: int\u00e9grez PayGreen sur votre MarketPlace.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E Nous nous effor\u00e7ons d\u0027\u00e9toffer et de clarifier cette documentation au fil du temps afin de simplifier au maximum l\u0027int\u00e9gration de notre solution. Toutefois, si certains points demeurent probl\u00e9matiques, notre \u00e9quipe technique est joignable \u00e0 l\u0027adresse serviceclient@paygreen.fr et vous r\u00e9pondra dans les meilleurs d\u00e9lais.\u003Cbr \/\u003E\n## Flux de paiement\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe sch\u00e9ma suivant repr\u00e9sente le fonctionnement de cette API lorsqu\u0027un consommateur effectue un paiement sur un site e-commerce\u0026nbsp;:\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n![Sch\u00e9ma de flux](..\/api\/img\/schema-flux.svg)\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n1. Le consommateur remplit et **valide son panier**.\u003Cbr \/\u003E\n2. Le e-commerce envoie \u00e0 PayGreen les informations permettant de **cr\u00e9er le paiement**.\u003Cbr \/\u003E\n3. Le consommateur r\u00e8gle sa commande sur une **interface de paiement PayGreen**\u0026nbsp;: selon la configuration de la boutique, il s\u0027agit soit d\u0027une **page d\u00e9port\u00e9e**, soit d\u0027un affichage en iframe (**insite**) sur le site e-commerce.\u003Cbr \/\u003E\n4. Le consommateur est automatiquement **redirig\u00e9** sur le e-commerce (param\u00e8tre `returned_url`).\u003Cbr \/\u003E\n5. PayGreen envoie l\u0027**IPN de la transaction** au e-commerce (param\u00e8tre `notified_url`). Il s\u0027agit d\u0027une notification permettant au e-commerce de mettre \u00e0 jour le statut d\u0027une commande. L\u0027IPN contient en effet les informations sur la transaction (*voir le paragraphe consacr\u00e9 dans les chapitres [Les transactions](#tag\/Les-transactions) et [Les virements](#tag\/Les-virements) pour plus de d\u00e9tails*).\u003Cbr \/\u003E\n6. Le e-commerce renvoit une **demande de d\u00e9tails** sur la transaction. Cette \u00e9tape n\u0027est pas absolument obligatoire, mais elle est fortement recommand\u00e9e pour des raisons de s\u00e9curit\u00e9\u0026nbsp;: en effet, recevoir une IPN ne garantit pas la v\u00e9racit\u00e9 des informations transmises (elle peut \u00eatre envoy\u00e9e par un tiers souhaitant compromettre vos donn\u00e9es). Cette demande permet donc de **v\u00e9rifier les informations transmises** par l\u0027IPN.\u003Cbr \/\u003E\n7. Un message de confirmation informe le consommateur que la transaction **a \u00e9t\u00e9 effectu\u00e9e** avec succ\u00e8s (ou a \u00e9chou\u00e9 si tel est le cas).\u003Cbr \/\u003E\n# Pr\u00e9-requis\u003Cbr \/\u003E\n## Identifiant et cl\u00e9 priv\u00e9e\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nPour tout appel API PayGreen, vous aurez besoin de renseigner l\u0027*identifiant PayGreen* (`shop ID`) et parfois, la *cl\u00e9 priv\u00e9e* de la boutique. \u003Cbr \/\u003E\nCes deux informations se trouvent \u00e0 diff\u00e9rents endroits sur le [back-office PayGreen](..\/shop\/wizard-activation)\u0026nbsp;:\u003Cbr \/\u003E\n- En bas \u00e0 gauche de la ***page d\u0027activation*** (1)\u0026nbsp;;\u003Cbr \/\u003E\n- Dans la fen\u00eatre accessible sur chaque page du back-office en cliquant sur le lien ***Toutes mes boutiques*** (2).\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n![Capture 1](..\/api\/img\/id-privatekey-1.png)\u003Cbr \/\u003E\n*Capture 1*\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n![Capture 1](..\/api\/img\/id-privatekey-2.png)\u003Cbr \/\u003E\n*Capture 2*\u003Cbr \/\u003E\n## Param\u00e9trage de l\u0027interface de paiement\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nBeaucoup d\u0027options relatives \u00e0 l\u0027interface de paiement sont disponibles directement dans le back-office PayGreen\u0026nbsp;: il n\u0027est donc pas n\u00e9cessaire d\u0027\u00eatre d\u00e9veloppeur pour personnaliser la page de paiement. \u003Cbr \/\u003E\nParmi les options \u00e0 votre disposition, le e-commer\u00e7ant a la possibilit\u00e9 de choisir son type d\u0027interface de paiement\u0026nbsp;:\u003Cbr \/\u003E\n- Par d\u00e9faut, il s\u0027agit d\u0027une **page de paiement** externe au site e-commerce, sur laquelle le consommateur est redirig\u00e9 apr\u00e8s validation de son panier. **Aucune manipulation n\u0027est n\u00e9cessaire pour opter pour ce type d\u0027interface**. Elle pr\u00e9sente l\u0027avantage d\u0027\u00eatre parfaitement responsive sans que vous n\u0027ayez \u00e0 d\u00e9velopper quoi que ce soit. Le e-commer\u00e7ant peut en outre ajouter son logo et en personnaliser le wording et le fond de la page.\u003Cbr \/\u003E\n- L\u0027**insite** est le second type d\u0027interface \u00e0 la disposition du e-commer\u00e7ant. Il lui permet d\u0027afficher l\u0027interface dans un *iframe* int\u00e9gr\u00e9 \u00e0 son site e-commerce\u0026nbsp;: cela permet de conserver un tunnel de paiement uniforme. Cette option n\u0027est accessible que sur activation du module par notre \u00e9quipe d\u0027account managers (que vous pouvez contacter \u00e0 serviceclient@paygreen.fr). Une fois le module *insite* activ\u00e9, il suffit d\u0027afficher sur le e-commerce un iframe ayant pour URL le lien fourni, en y ajoutant \u00e0 la fin la mention `?display=insite`.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n# Titres restaurant\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nCe chapitre vous concerne si\u0026nbsp;:\u003Cbr \/\u003E\n1. Votre activit\u00e9 est li\u00e9e \u00e0 la **restauration**.\u003Cbr \/\u003E\n2. Vous \u00eates **conventionn\u00e9** pour recevoir des paiements en titres restaurant ou pouvez le devenir.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nPayGreen vous permet d\u0027int\u00e9grer simplement plusieurs moyens de paiement pour r\u00e9gler des **achats \u00e9ligibles aux titres restaurant**. Par ailleurs, PayGreen g\u00e8re int\u00e9gralement les \u00e9ventuels **compl\u00e9ments** (en carte bancaire ou American Express).\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n## Les moyens de paiement Restauration\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n### Titres Restaurant D\u00e9mat\u00e9rialis\u00e9s `TRD`\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nCe moyen de paiement vous permet d\u0027encaisser les paiements r\u00e9alis\u00e9s via n\u0027importe quelle carte du **r\u00e9seau Conecs**\u0026nbsp;:\u003Cbr \/\u003E\n- Apetiz (Natixis)\u003Cbr \/\u003E\n- Pass Restaurant (de Sodexo)\u003Cbr \/\u003E\n- Up Ch\u00e8que D\u00e9jeuner\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nSi le solde de la carte est insuffisant pour r\u00e9gler la totalit\u00e9 du panier, un **moyen de paiement compl\u00e9mentaire** sera utilis\u00e9 pour r\u00e9gler le montant restant (*exemple\u0026nbsp;: CB\/Visa\/MasterCard*). Cette op\u00e9ration est r\u00e9alis\u00e9e automatiquement c\u00f4t\u00e9 PayGreen \u00e0 partir de la configuration de votre moyen de paiement (r\u00e9alis\u00e9e par notre support)\u0026nbsp;: vous n\u0027avez **aucun appel API \u00e0 effectuer**.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n### Resto Flash `RESTOFLASH`\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nCe moyen de paiement permet \u00e0 vos clients de r\u00e9gler leur achat en utilisant leur **compte Resto Flash**. Il s\u0027agit d\u0027un moyen de paiement 100\u0026#37; digital, sans carte \u00e0 renseigner, et optimis\u00e9 pour une exp\u00e9rience mobile. Le consommateur alimente son compte Resto Flash avec ses tickets restaurant papier, ce qui lui permet de les utiliser en ligne.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n### Lunchr `LUNCHR`\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLunchr est une alternative au r\u00e9seau Conecs et aux titres restaurant papier. Les employeurs qui choisissent ce prestataire pour les titres restaurant permettent \u00e0 leurs salari\u00e9s de disposer d\u0027une carte du r\u00e9seau MasterCard, sur laquelle le solde journalier est cr\u00e9dit\u00e9. Les consommateurs peuvent suivre l\u0027\u00e9volution de leur solde via une application mobile.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n## Activer un moyen de paiement\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nPar d\u00e9faut (*sous r\u00e9serve d\u0027acceptation de vos documents justificatifs ou de votre num\u00e9ro VAD lors de votre inscription sur PayGreen*) votre boutique peut encaisser des paiements par carte bancaire CB\/Visa\/MasterCard.\u003Cbr \/\u003E\nSi vous souhaitez proposer d\u0027autres moyens de paiement \u00e0 vos clients, il vous suffit d\u0027en faire la demande aupr\u00e8s de notre support \u00e0 l\u0027adresse serviceclient@paygreen.fr.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n## Appels API\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nUne fois vos moyens de paiement activ\u00e9s par notre support, vous pourrez les utiliser pour cr\u00e9er des transactions. Voici la proc\u00e9dure \u00e0 suivre\u0026nbsp;:\u003Cbr \/\u003E\n1. Envoyez une requ\u00eate (GET) pour obtenir la [liste de vos moyens de paiement activ\u00e9s](#tag\/Les-moyens-de-paiement) (paragraphe **Liste des moyens de paiement**).\u003Cbr \/\u003E\n2. V\u00e9rifiez que la r\u00e9ponse re\u00e7ue (*voir l\u0027exemple de r\u00e9ponse dans le lien ci-dessus*) renvoie bien le ou les moyens de paiement souhait\u00e9s. Cela vous \u00e9vitera de cr\u00e9er une transaction pour un moyen de paiement d\u00e9sactiv\u00e9, ce qui ferait \u00e9chouer la transaction.\u003Cbr \/\u003E\n3. V\u00e9rifiez le param\u00e8tre `availablePaymentMode`\u0026nbsp;: il doit contenir le ou les modes de paiement (*comptant, abonnement\u0026hellip;*) qui peuvent \u00eatre effectu\u00e9s avec le moyen de paiement correspondant. Cela vous \u00e9vitera de cr\u00e9er une transaction dont le type n\u0027est pas pris en charge par le moyen de paiement (*exemple\u0026nbsp;: les moyens de paiement \u0022Titres restaurant\u0022 ne permettent pas de faire du paiement par abonnement*). \u003Cbr \/\u003E\n4. Enfin, r\u00e9cup\u00e9rez le tableau renvoy\u00e9 dans le param\u00e8tre `iframe`\u0026nbsp;: il vous indique, pour chaque mode de paiement, quelle est la **taille minimale conseill\u00e9e** (en pixels) pour l\u0027iframe qui contiendra l\u0027interface de paiement PayGreen. Nous vous conseillons de respecter ces pr\u00e9conisations afin d\u0027optimiser l\u0027exp\u00e9rience de paiement de vos clients.\u003Cbr \/\u003E\n5. Une fois toutes ces informations en main, vous pouvez cr\u00e9er une [transaction](#tag\/Les-transactions).","version":"1.0.0","contact":{"email":"serviceclient@paygreen.fr"}},"tags":[{"name":"Authentification OAuth","description":"OAuth est le protocole permettant d\u0027autoriser un site web (ici, celui du e-commer\u00e7ant, qu\u0027il soit sur un CMS ou une MarketPlace) \u00e0 **acc\u00e9der \u00e0 une API s\u00e9curis\u00e9e** (en l\u0027occurrence, l\u0027API PayGreen) pour le compte d\u0027un utilisateur (ici, le e-commer\u00e7ant).\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nChaque e-commer\u00e7ant doit avoir **sa propre boutique PayGreen** (*qu\u0027il s\u0027agisse d\u0027une boutique autonome dans le cas d\u0027un CMS ou d\u0027une sous-boutique dans le cas d\u0027une MarketPlace*)\u0026nbsp;: or, l\u0027identifiant unique (`shop ID`) et la cl\u00e9 priv\u00e9e de la boutique sont n\u00e9cessaires pour les appels API.\u003Cbr \/\u003E\nVous pouvez donner la possibilit\u00e9 au e-commer\u00e7ant de les renseigner lui-m\u00eame dans son back-office, mais la solution la plus simple pour lui que vous int\u00e9griez le **PayGreen Connect** avec le protocole OAuth.\u003Cbr \/\u003E\nLe processus client est le suivant\u0026nbsp;:\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n1. Dans votre back-office, vous lui proposez de cr\u00e9er ou connecter son **compte PayGreen** \u00e0 votre CMS\/MarketPlace.\u003Cbr \/\u003E\n2. Au clic du e-commer\u00e7ant sur le bouton propos\u00e9, vous ***cr\u00e9ez un token d\u0027acc\u00e8s au protocole OAuth*** puis vous ***affichez la page d\u0027authentification PayGreen***.\u003Cbr \/\u003E\n3. Gr\u00e2ce aux informations renseign\u00e9es pr\u00e9c\u00e9demment (`email`, `name` et `phoneNumber`), le formulaire de connexion\/inscription PayGreen est d\u00e9j\u00e0 **pr\u00e9-rempli avec les donn\u00e9es du e-commer\u00e7ant**. Il n\u0027a plus qu\u0027\u00e0 confirmer pour cr\u00e9er son compte PayGreen.\u003Cbr \/\u003E\n4. Une fois le compte cr\u00e9\u00e9 (*ou connect\u00e9 si le e-commer\u00e7ant avait d\u00e9j\u00e0 un compte PayGreen*), le e-commer\u00e7ant est **redirig\u00e9 sur votre back-office** (gr\u00e2ce au param\u00e8tre `redirect_uri` renseign\u00e9 pr\u00e9c\u00e9demment).\u003Cbr \/\u003E\n5. Vous aurez \u00e0 ce stade r\u00e9cup\u00e9r\u00e9 un param\u00e8tre `clientId`. Il vous permet, gr\u00e2ce au ***contr\u00f4le OAuth***, de r\u00e9cup\u00e9rer toutes les **informations utiles sur la boutique PayGreen** du e-commer\u00e7ant (et notamment l\u0027identifiant unique `id` et la cl\u00e9 priv\u00e9e `privateKey` qui vous permettront de r\u00e9aliser les prochains appels API)."},{"name":"Gestion de la boutique","description":"Retrouvez ici toutes les m\u00e9thodes pour g\u00e9rer la boutique PayGreen du e-commerce\u0026nbsp;: afficher et mettre \u00e0 jour ses informations d\u0027une boutique, et cr\u00e9er et activer un compte chez nos partenaires bancaires.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E **M\u00e9thodes *Multi-boutiques*\u0026nbsp;:** le multi-boutiques est une option li\u00e9e aux **MarketPlaces**. Si vous int\u00e9grez PayGreen pour un **CMS**, il est donc inutile de vous int\u00e9resser \u00e0 ces m\u00e9thodes."},{"name":"Gestion de mes boutiques","description":"Service permettant de g\u00e9rer vos boutiques."},{"name":"Gestion du compte principal","description":"Service permettant de g\u00e9rer votre compte principal"},{"name":"Gestion de l\u0027adresse","description":"G\u00e9rez l\u0027adresse de votre entreprise"},{"name":"Gestion des propri\u00e9taires","description":"G\u00e9rez les propri\u00e9taires de la boutique"},{"name":"Gestion des documents\/KYCs","description":"G\u00e9rez vos documents"},{"name":"Les moyens de paiement","description":"Pour cr\u00e9er des transactions, vous aurez besoin de savoir quels sont les moyens de paiement disponibles et **activ\u00e9s** sur votre boutique, et les devises pour chacun.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nEn effet, lors de la cr\u00e9ation d\u0027une transaction, le **moyen de paiement** et la **devise** doivent \u00eatre renseign\u00e9s. Il est donc pr\u00e9f\u00e9rable d\u0027envoyer une requ\u00eate afin de r\u00e9cup\u00e9rer les moyens de paiement disponibles **avant** de cr\u00e9er une transaction, ce afin d\u0027\u00e9viter toute erreur li\u00e9e \u00e0 l\u0027absence du moyen de paiement ou de la devise souhait\u00e9s.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe moyen de paiement `CB\/Visa\/MasterCard` est activ\u00e9 par d\u00e9faut pour chaque boutique (sous r\u00e9serve de validation du compte par notre support). Actuellement, les autres moyens de paiement sont disponibles exclusivement sur demande aupr\u00e8s du support PayGreen (serviceclient@paygreen.fr), qui se chargera d\u0027activer les moyens de paiement souhait\u00e9s.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nVoici la liste compl\u00e8te des moyens de paiement propos\u00e9s par PayGreen\u0026nbsp;:\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003Ctable\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Cth\u003EMoyens de paiement \u003Ccode\u003EpaymentType\u003C\/code\u003E\u003C\/th\u003E\u003Cth\u003EDevise \u003Ccode\u003Ecurrency\u003C\/code\u003E\u003C\/th\u003E\u003Cth\u003EModes de paiement \u003Ccode\u003EavailablePaymentMode\u003C\/code\u003E\u003C\/th\u003E\u003Cth\u003ECompl\u00e9mentaire*\u003C\/th\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003ECB\/Visa\/Mastercard \u003Ccode\u003ECB\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cli\u003EEuros \u003Ccode\u003EEUR\u003C\/code\u003E\u003C\/li\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cul\u003E\u003Cli\u003EComptant \u003Ccode\u003ECASH\u003C\/code\u003E\u003C\/li\u003E\u003Cli\u003EAbonnement \u003Ccode\u003ERECURRING\u003C\/code\u003E\u003C\/li\u003E\u003Cli\u003EN fois \u003Ccode\u003EXTIME\u003C\/code\u003E\u003C\/li\u003E\u003Cli\u003EAvec confirmation \u003Ccode\u003ETOKENIZE\u003C\/code\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/td\u003E\u003Ctd\u003E\u0026#10004;\u0026nbsp;Oui\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003EAmerican Express \u003Ccode\u003EAMEX\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cli\u003EEuros \u003Ccode\u003EEUR\u003C\/code\u003E\u003C\/li\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cul\u003E\u003Cli\u003EComptant \u003Ccode\u003ECASH\u003C\/code\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/td\u003E\u003Ctd\u003E\u0026#10004;\u0026nbsp;Oui\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003ECh\u00e8ques-Vacances Connect \u003Ccode\u003ECVD\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cli\u003EEuros \u003Ccode\u003EEUR\u003C\/code\u003E\u003C\/li\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cul\u003E\u003Cli\u003EComptant \u003Ccode\u003ECASH\u003C\/code\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/td\u003E\u003Ctd\u003E\u0026#10060;\u0026nbsp;Non\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003ETitres Restaurant D\u00e9mat\u00e9rialis\u00e9s \u003Ccode\u003ETRD\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cli\u003EEuros \u003Ccode\u003EEUR\u003C\/code\u003E\u003C\/li\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cul\u003E\u003Cli\u003EComptant \u003Ccode\u003ECASH\u003C\/code\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/td\u003E\u003Ctd\u003E\u0026#10060;\u0026nbsp;Non\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003EResto Flash \u003Ccode\u003ERESTOFLASH\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cli\u003EEuros \u003Ccode\u003EEUR\u003C\/code\u003E\u003C\/li\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cul\u003E\u003Cli\u003EComptant \u003Ccode\u003ECASH\u003C\/code\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/td\u003E\u003Ctd\u003E\u0026#10060;\u0026nbsp;Non\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003ELunchr \u003Ccode\u003ELUNCHR\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cli\u003EEuros \u003Ccode\u003EEUR\u003C\/code\u003E\u003C\/li\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cul\u003E\u003Cli\u003EComptant \u003Ccode\u003ECASH\u003C\/code\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/td\u003E\u003Ctd\u003E\u0026#10060;\u0026nbsp;Non\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003EPr\u00e9l\u00e8vement SEPA \u003Ccode\u003ESEPA\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cli\u003EEuros \u003Ccode\u003EEUR\u003C\/code\u003E\u003C\/li\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cul\u003E\u003Cli\u003EComptant \u003Ccode\u003ECASH\u003C\/code\u003E\u003C\/li\u003E\u003Cli\u003EAbonnement \u003Ccode\u003ERECURRING\u003C\/code\u003E\u003C\/li\u003E\u003Cli\u003EN fois \u003Ccode\u003EXTIME\u003C\/code\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/td\u003E\u003Ctd\u003E\u0026#10060;\u0026nbsp;Non\u003C\/td\u003E\u003C\/tr\u003E\u003C\/tbody\u003E\u003C\/table\u003E\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003Cblockquote\u003E\u003Cstrong\u003ECompl\u00e9mentaire*\u0026nbsp;:\u003C\/strong\u003E certains moyens de paiement ne permettent pas toujours de r\u00e9gler un achat en int\u00e9gralit\u00e9 (\u003Cem\u003Eexemple\u0026nbsp;: les titres restaurant d\u00e9mat\u00e9rialis\u00e9s, qui ne permettent de r\u00e9gler que 19\u0026nbsp;\u20ac par jour maximum\u003C\/em\u003E). Dans ce cas, un moyen de paiement \u003Cstrong\u003Ecompl\u00e9mentaire\u003C\/strong\u003E sera mis en oeuvre afin de permettre au consommateur de r\u00e9gler le montant compl\u00e9mentaire. Pour plus de d\u00e9tails, consultez la section ci-dessous.\u003C\/blockquote\u003E\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003Ch2\u003EMoyens de paiement avec compl\u00e9ment\u003C\/h2\u003E\u003Cbr \/\u003E\nCertains moyens de paiement peuvent n\u00e9cessiter un moyen de paiement compl\u00e9mentaire pour permettre au consommateur de r\u00e9gler, sans perte, l\u0027int\u00e9gralit\u00e9 de sa commande.\u003Cbr \/\u003E\n\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003E\u0026nbsp;:\u003C\/strong\u003ELe montant minimum d\u0027une transaction Ch\u00e8ques-Vacances Connect est de 20 \u20ac. Pour toute transaction d\u0027un montant sup\u00e9rieure \u00e0 20\u20ac : Si un moyen de paiement compl\u00e9mentaire est param\u00e9tr\u00e9, le b\u00e9n\u00e9ficiaire peut modifier le montant qu\u0027il souhaite r\u00e9gler avec son portefeuille directement via l\u0027application mobile ANCV. Le reste du paiement sera r\u00e9alis\u00e9 avec le moyen de paiement compl\u00e9mentaire. Si le montant de la transaction d\u00e9passe le solde du portefeuille du b\u00e9n\u00e9ficiaire, le surplus pourra \u00eatre r\u00e9gl\u00e9 avec le moyen de paiement compl\u00e9mentaire. Si aucun moyen de paiement compl\u00e9mentaire n\u0027est configur\u00e9, le montant \u00e0 r\u00e9gler avec le portefeuille Ch\u00e8ques-Vacances Connect ne peut pas \u00eatre modifi\u00e9 via l\u0027application ANCV et le paiement ne pourra pas aboutir. \u003C\/li\u003E\u003Cli\u003E\u003Cstrong\u003EResto Flash, Titres Restaurant D\u00e9mat\u00e9rialis\u00e9s, Lunchr\u0026nbsp;:\u003C\/strong\u003E ces moyens de paiement permettent de r\u00e9gler exlusivement des produits alimentaires (hors alcool notamment) pour un montant journalier maximum de 19\u0026nbsp;\u20ac (certaines cartes ne sont pas utilisables le week-end). L\u0027exc\u00e9dent et les produits non \u00e9ligibles doivent donc \u00eatre r\u00e9gl\u00e9s avec un autre moyen de paiement.\u003C\/li\u003E\u003C\/ul\u003E\u003Cbr \/\u003E\nLorsque le support PayGreen active l\u0027un de ces moyens de paiement sur votre boutique, il d\u00e9finit \u00e9galement le ou les \u003Cstrong\u003Emoyens de paiement compl\u00e9mentaires\u003C\/strong\u003E qui permettront \u00e0 vos clients de r\u00e9gler leur achat en totalit\u00e9. Si deux moyens de paiement compl\u00e9mentaires sont disponibles (exemple\u0026nbsp;: CB\/Visa\/MasterCard et American Express), vos clients pourront \u003Cstrong\u003Echoisir avec lequel ils souhaitent r\u00e9gler la part compl\u00e9mentaire\u003C\/strong\u003E.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nAinsi, lors de la requ\u00eate pour la cr\u00e9ation d\u0027un paiement, le moyen de paiement \u00e0 renseigner dans le param\u00e8tre \u003Ccode\u003EpaymentType\u003C\/code\u003E est le \u003Cstrong\u003Emoyen de paiement principal\u003C\/strong\u003E (exemple\u0026nbsp;: \u003Ccode\u003ETRD\u003C\/code\u003E si vous proposez \u00e0 vos clients de payer avec des Titres Restaurant D\u00e9mat\u00e9rialis\u00e9s). Le moyen de paiement compl\u00e9mentaire est d\u00e9fini automatiquement en fonction des param\u00e9trages de votre boutique.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003Ch3\u003EMontant \u00e9ligible\u003C\/h3\u003E\u003Cbr \/\u003E\nLes moyens de paiement d\u00e9taill\u00e9s ci-dessus (\u003Cem\u003Enotamment les Ch\u00e8que-Vacances Connect ou les Titres Restaurant D\u00e9mat\u00e9rialis\u00e9s\u003C\/em\u003E) ne permettent de payer que certains types de produits ou services. Dans le cas d\u0027un panier contenant \u00e0 la fois des produits \u00e9ligibles et des produits non-\u00e9ligibles, il faudra donc distinguer le \u003Cstrong\u003Emontant \u00e9ligible\u003C\/strong\u003E, payable avec un e-Ch\u00e8que-Vacances ou un Titre Restaurant D\u00e9mat\u00e9rialis\u00e9 par exemple, du montant total du panier.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nAinsi, si votre client doit r\u00e9gler un commande d\u0027un montant total de 17\u0026nbsp;\u20ac dont 10\u0026nbsp;\u20ac sont \u00e9ligibles aux Titres Restaurant D\u00e9mat\u00e9rialis\u00e9s, la requ\u00eate de cr\u00e9ation du paiement comptant devra comprendre les param\u00e8tres suivants\u0026nbsp;:\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003Cpre\u003E\u003Ccode\u003E{\u003Cbr \/\u003E\n \u0022amount\u0022: 1700,\u003Cbr \/\u003E\n \u0022paymentType\u0022: \u0022TRD\u0022,\u003Cbr \/\u003E\n \u0022eligibleAmount\u0022: {\u003Cbr \/\u003E\n \u0022TRD\u0022: \u00221000\u0022\u003Cbr \/\u003E\n },\u003Cbr \/\u003E\n}\u003C\/code\u003E\u003C\/pre\u003E"},{"name":"Les transactions","description":"G\u00e9rez vos transactions\u0026nbsp;: cr\u00e9ez un paiement, confirmez une transaction, remboursez totalement ou partiellement et acc\u00e9dez aux d\u00e9tails d\u0027une transaction.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nAvant de vous int\u00e9resser aux transactions, consultez la section [Les moyens de paiement](#tag\/Les-moyens-de-paiement) qui vous renseignera sur les param\u00e8tres `paymentType` et `currency`.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n*L\u0027ordre des chapitres ci-dessous ne refl\u00e8te absolument pas l\u0027ordre dans lequel vous devez int\u00e9grer cette API\u0026nbsp;: la **cr\u00e9ation du paiement** est la premi\u00e8re \u00e9tape.*\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n## IPN d\u0027une transaction\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nL\u0027IPN (Instant Payment Notification) est la notification envoy\u00e9e au serveur du e-commerce (param\u00e8tre `notified_url`) lorsque le statut d\u0027un paiement change (*par exemple, lorsqu\u0027un paiement est valid\u00e9*). L\u0027envoi de l\u0027IPN peut parfois prendre plusieurs minutes.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nL\u0027IPN d\u0027une transaction permet ainsi de mettre \u00e0 jour le **statut des commandes** c\u00f4t\u00e9 e-commerce.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n**Attention\u0026nbsp;:** l\u0027IPN n\u0027est envoy\u00e9e que si les deux conditions suivantes sont remplies\u0026nbsp;:\u003Cbr \/\u003E\n- L\u0027URL de callback (param\u00e8tre `notified_url`) doit \u00eatre renseign\u00e9e\u0026nbsp;\u003Cbr \/\u003E\n- Le statut de la transaction doit \u00eatre **valid\u00e9** (`SUCCESSED`), **refus\u00e9** (`REFUSED`) ou **en cours d\u0027ex\u00e9cution** (`PENDING_EXEC`). Les IPN ne sont pas envoy\u00e9es lorsqu\u0027un paiement est rembours\u00e9 ou annul\u00e9\u0026nbsp;: en effet, il s\u0027agit d\u0027actions manuelles dont le e-commerce a donc n\u00e9cessairement connaissance. Il est alors inutile de spammer les serveurs.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003Ctable\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Cth\u003EParam\u00e8tres\u003C\/th\u003E\u003Cth\u003EExemples de valeur\u003C\/th\u003E\u003Cth\u003ECommentaires\u003C\/th\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003Edata\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E\u0026hellip;\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003ECha\u00eene de caract\u00e8res encod\u00e9e \u00e0 partir des donn\u00e9es compil\u00e9es de la transaction. Ce champ est encore utilis\u00e9 par certains modules. \u003Cstrong\u003EAttention\u0026nbsp;: ce param\u00e8tre est d\u00e9pr\u00e9ci\u00e9, \u00e9vitez de l\u0027utiliser.\u003C\/strong\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003Epid\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003Etr15acde62ecfc1b8a2a1706b3f17a714e\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EID de la transaction\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003Eresult\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003ESUCCESSED\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EStatut de la transaction. Ne peut \u00eatre que \u003Ccode\u003ESUCCESSED\u003C\/code\u003E, \u003Ccode\u003EREFUSED\u003C\/code\u003E ou \u003Ccode\u003EPENDING_EXEC\u003C\/code\u003E.\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EorderId\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003Etest-123\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003ERenseign\u00e9 dans l\u0027\u003Ccode\u003EorderId\u003C\/code\u003E du \u003Ccode\u003Emetadata\u003C\/code\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EuserId\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E123654789\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EID du\u003Ccode\u003Ebuyer\u003C\/code\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EshopId\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003Ece642ce1613b47667dbd3785e5faf666\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EVotre identifiant unique \u003Ccode\u003Eshop ID\u003C\/code\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003Eamount\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E9900\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EMontant en centimes\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EcreatedAt\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E2018-12-27T11:07:59Z\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EDate et heure de la cr\u00e9ation de la transaction\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EvalueAt\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E2018-12-27T11:07:59Z\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EDate et heure auxquelles PayGreen envoie la demande de transaction au partenaire bancaire\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EansweredAt\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E2018-12-27T11:07:59Z\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EDate et heure auxquelles le partenaire bancaire r\u00e9pond \u00e0 la demande\u003C\/td\u003E\u003C\/tr\u003E\u003C\/tbody\u003E\u003C\/table\u003E"},{"name":"L\u0027empreinte de carte","description":"L\u0027empreinte de carte bancaire est ce qui permet de pr\u00e9lever vos clients en diff\u00e9r\u00e9\u0026nbsp;: le consommateur renseigne ses informations de carte et vous permet de les utiliser pour un paiement ult\u00e9rieur, sans qu\u0027il ait \u00e0 les renseigner \u00e0 nouveau.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nUne empreinte de carte **n\u0027est pas une transaction**\u0026nbsp;: aucun pr\u00e9l\u00e8vement n\u0027est effectu\u00e9 lors de l\u0027empreinte. Pour pr\u00e9lever votre client, vous devez imp\u00e9rativement cr\u00e9er une transaction\u0026nbsp;: vous renseignerez \u00e0 ce moment-l\u00e0 l\u0027`id` transmis lors de l\u0027empreinte afin de d\u00e9biter la carte bancaire (dans l\u0027IPN, il s\u0027agira du `pid`).\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nVous pouvez effectuer des empreintes de carte avec les moyens de paiement suivants : \u003Cbr \/\u003E\n- CB : Disponible pour les **paiements comptants**, les **paiements par abonnements** et les **paiements en plusieurs fois**. Par d\u00e9faut, l\u0027empreinte de carte est r\u00e9gl\u00e9s sur `CB`\u003Cbr \/\u003E\n- SEPA : Il est possible de faire un empreinte de carte pour la signature d\u0027un mandat. Dans ce cas, le param\u00e8tre `\u0022paymentType\u0022 : \u0022SEPA\u0022` doit \u00eatre ajout\u00e9 dans la requ\u00eate. Disponible pour les **paiements comptants**, les **paiements par abonnements** et les **paiements en plusieurs fois**.\u003Cbr \/\u003E\n- TRD : Il est possible de faire une empreinte de carte sur une carte Conecs. Dans ce cas, le param\u00e8tre `\u0022paymentType\u0022 : \u0022TRD\u0022` doit \u00eatre ajout\u00e9 dans la requ\u00eate. Pour pouvoir utiliser les empreintes de carte TRD, vous devez obligatoirement avoir un d\u00e9lai de capture de renseign\u00e9 dans votre moyen de paiement. Les empreintes de carte TRD sont utilisables uniquement pour du **paiement comptant**.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E Dans le cas du mode d\u0027int\u00e9gration *MarketPlace*, l\u0027empreinte de carte se fait sur le compte et non la boutique. L\u0027empreinte de carte est donc utilisable sur toutes les boutiques d\u0027un m\u00eame compte.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E Avec l\u0027API de paiement PayGreen, l\u0027empreinte de carte est g\u00e9r\u00e9e automatiquement lors de la cr\u00e9ation d\u0027un paiement. **Vous n\u0027avez donc pas besoin de r\u00e9aliser une empreinte de carte ou de renseigner le param\u00e8tre `card` lorsque vous ex\u00e9cutez un paiement**.\u003Cbr \/\u003E\nN\u00e9anmoins, dans le cas o\u00f9 vous souhaiteriez g\u00e9rer vous-m\u00eame l\u0027empreinte de carte, les informations ci-dessous vous sont n\u00e9cessaires."},{"name":"Gestion d\u0027une association","description":"Action sur les association"},{"name":"Les dons","description":"Cr\u00e9ez, g\u00e9rez et supprimer les dons effectu\u00e9s par les consommateurs lors de leur achat, dans le cadre de nos options solidaires\u0026nbsp;: l\u0027**Arrondi** et **Tree** (compensation carbone)."},{"name":"Recherche de transaction","description":"Effectuez les recherches sur une ou plusieurs transaction"},{"name":"Gestion de mes RIB","description":"Service permettant de g\u00e9rer les RIB li\u00e9s \u00e0 votre boutique."},{"name":"Les virements","description":"Avec PayGreen, vous avez la possibilit\u00e9 de **g\u00e9rer vos virements par API** (notamment pour programmer des virements automatiques). Vous pouvez effectuer un virement vers votre compte bancaire (gr\u00e2ce au param\u00e8tre `bankId`, qui correspond \u00e0 l\u0027id d\u0027un RIB) ou bien vers une autre boutique PayGreen (en rempla\u00e7ant le param\u00e8tre `bankId` par `shopId`, qui correspond \u00e0 l\u0027id d\u0027une autre de vos boutiques.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nPar d\u00e9faut, les virements sont ex\u00e9cut\u00e9s imm\u00e9diatement."}],"schemes":["https"],"paths":{"\/api\/auth\/":{"post":{"tags":["Authentification OAuth"],"summary":"Cr\u00e9ation d\u0027un token d\u0027acc\u00e8s au protocole OAuth","description":"Cette m\u00e9thode permet de cr\u00e9er un token d\u0027acc\u00e8s au protocole OAuth **PayGreen Connect\u0026nbsp;:** vous recevez dans la r\u00e9ponse les param\u00e8tres `accessPublic` et `accessSecret` qui vous seront utiles pour la suite.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"body","name":"AuthAccessToken","description":"Token d\u0027acc\u00e8s OAuth","required":true,"schema":{"$ref":"#\/definitions\/AuthAccessToken"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/AuthAccessToken"}}}},"404":{"description":"AuthAccessToken Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/auth\/authorize":{"get":{"tags":["Authentification OAuth"],"summary":"Affichage de la page d\u0027authentification PayGreen","description":"Cette m\u00e9thode permet d\u0027afficher la page d\u0027authentification PayGreen. Via cette infertace, vos utilisateurs pourront se connecter ou s\u0027inscrire sur PayGreen en utilisant le protocole OAuth\u0026nbsp;: une partie des informations sont pr\u00e9-remplies gr\u00e2ce aux informations transmises dans la m\u00e9thode de cr\u00e9ation d\u0027un token d\u0027acc\u00e8s (d\u00e9taill\u00e9e pr\u00e9c\u00e9demment).","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"query","name":"client_id","description":"Variable OAuth contenant `accessPublic`. Exemple\u0026nbsp;: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","required":true,"type":"string"},{"in":"query","name":"redirect_uri","description":"Variable OAuth contenant l\u0027URL de retour une fois l\u0027utilisateur identifi\u00e9. Par exemple : http:\/\/example.com\/mon-url-de-retour","required":true,"type":"string"},{"in":"query","name":"response_type","description":"Variable OAuth concernant le style de r\u00e9ponse. Par exemple : code","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/\\Zend\\Http\\Response"}}}},"404":{"description":"\\Zend\\Http\\Response Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/auth\/accessToken":{"post":{"tags":["Authentification OAuth"],"summary":"Contr\u00f4le OAuth","description":"Cette m\u00e9thode permet de contr\u00f4ler le retour apr\u00e8s l\u0027authentification OAuth, et permet de **r\u00e9cup\u00e9rer les donn\u00e9es de la boutique** (*voir l\u0027exemple de r\u00e9ponse pour la liste compl\u00e8te des informations retourn\u00e9es*).","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"client_id","description":"Variable OAuth contenant `accessPublic`. Exemple\u0026nbsp;: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","required":true,"type":"string"},{"in":"path","name":"grant_type","description":"Variable OAuth contenant la valeur du \u0022grant type\u0022 OAuth (valeur: authorization_code)","required":true,"type":"string"},{"in":"path","name":"code","description":"Variable OAuth contenant le code generate apr\u00e8s l\u0027appel authorize OAuth","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shop"}}}},"404":{"description":"Shop Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/shop\/{shopId}":{"get":{"tags":["Gestion de la boutique"],"summary":"Multi-boutiques : afficher une boutique","description":"Cette m\u00e9thode permet de r\u00e9cup\u00e9rer la configuration d\u0027une boutique donn\u00e9e `shopId`.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E **M\u00e9thode *Multi-boutiques*\u0026nbsp;:** le multi-boutiques est une option li\u00e9e aux **MarketPlaces**. Si vous int\u00e9grez PayGreen pour un **CMS** ou directement sur un site e-commerce, il est donc inutile de vous int\u00e9resser \u00e0 cette m\u00e9thode.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"shopId","description":"Identifiant unique d\u0027une boutique","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shop"}}}},"404":{"description":"Shop Not Found"},"400":{"description":"Invalid ID"}}},"put":{"tags":["Gestion de la boutique"],"summary":"Multi-boutiques : mettre \u00e0 jour une boutique","description":"Cette m\u00e9thode permet de mettre \u00e0 jour certaines informations d\u0027une boutique donn\u00e9e `shopId`.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E **M\u00e9thode *Multi-boutiques*\u0026nbsp;:** le multi-boutiques est une option li\u00e9e aux **MarketPlaces**. Si vous int\u00e9grez PayGreen pour un **CMS** ou directement sur un site e-commerce, il est donc inutile de vous int\u00e9resser \u00e0 cette m\u00e9thode.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"shopId","description":"Identifiant unique d\u0027une boutique","required":true,"type":"string"},{"in":"body","name":"Shop","description":"Mod\u00e8le de donn\u00e9es d\u0027une boutique","required":true,"schema":{"$ref":"#\/definitions\/Shop"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shop"}}}},"404":{"description":"Shop Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/shop":{"get":{"tags":["Gestion de la boutique"],"summary":"Afficher la boutique","description":"Cette m\u00e9thode permet de r\u00e9cup\u00e9rer la configuration de la boutique (*boutique principale dans le cas du **Multi-boutiques***).","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shop"}}}},"404":{"description":"Shop Not Found"},"400":{"description":"Invalid ID"}}},"put":{"tags":["Gestion de la boutique"],"summary":"Mettre \u00e0 jour la boutique","description":"Cette m\u00e9thode permet de mettre \u00e0 jour certaines informations de la boutique (*boutique principale dans le cas du **Multi-boutiques***). Seules les informations pr\u00e9sentes dans l\u0027exemple peuvent \u00eatre modifi\u00e9es.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Shop","description":"Mod\u00e8le de donn\u00e9es d\u0027une boutique","required":true,"schema":{"$ref":"#\/definitions\/Shop"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shop"}}}},"404":{"description":"Shop Not Found"},"400":{"description":"Invalid ID"}}},"patch":{"tags":["Gestion de la boutique"],"summary":"Cr\u00e9ation et activation d\u0027un compte","description":"Cette m\u00e9thode a deux actions\u0026nbsp;:\u003Cbr \/\u003E\n1. Faire une demande de cr\u00e9ation d\u0027un compte chez l\u0027un de nos **partenaires bancaires** (li\u00e9s aux **moyens de paiement** souhait\u00e9s). Pour demander la cr\u00e9ation du compte, il vous suffit de passer le param\u00e8tre `validate` \u00e0 `true`. Sinon, laissez ce param\u00e8tre \u00e0 `false`.\u003Cbr \/\u003E\n2. Passer la boutique **en production** ou **en test**\u0026nbsp;: le param\u00e8tre `activate` permet, s\u0027il est \u00e9gal \u00e0 `true`, de passer la boutique en production, ce qui permet au e-commerce d\u0027encaisser les paiements des consommateurs. S\u0027il est \u00e9gal \u00e0 `false`, la boutique passera en mode test, auquel cas il n\u0027y aura que des transactions fictives sur le e-commerce (il s\u0027agit du mode \u00e0 choisir lors de l\u0027int\u00e9gration de PayGreen). Pas d\u00e9faut, une boutique est toujours en **mode test**.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"ShopPatch","description":"- `\u0022validate\u0022 = true` permet de demander la cr\u00e9ation du compte de la boutique chez notre partenaire bancaire\u0026nbsp;;\u003Cbr \/\u003E\n- `\u0022activate\u0022 = true` permet de passer la boutique en mode production.","required":true,"schema":{"$ref":"#\/definitions\/ShopPatch"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shop"}}}},"404":{"description":"Shop Not Found"},"400":{"description":"Invalid ID"}}},"post":{"tags":["Gestion de la boutique"],"summary":"Multi-boutiques : cr\u00e9ation d\u0027une boutique","description":"Cette m\u00e9thode permet de cr\u00e9er une nouvelle boutique. La cr\u00e9ation de la boutique se fait \u00e0 partir des informations pr\u00e9sentes dans l\u0027exemple.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E **M\u00e9thode *Multi-boutiques*\u0026nbsp;:** le multi-boutiques est une option li\u00e9e aux **MarketPlaces**. Si vous int\u00e9grez PayGreen pour un **CMS** ou directement sur un site e-commerce, il est donc inutile de vous int\u00e9resser \u00e0 cette m\u00e9thode.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Shop","description":"Mod\u00e8le de donn\u00e9es d\u0027une boutique","required":true,"schema":{"$ref":"#\/definitions\/Shop"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shop"}}}},"404":{"description":"Shop Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/shops":{"get":{"tags":["Gestion de mes boutiques"],"summary":"Liste des boutiques","description":"Permet de lister toutes vos boutiques.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shop"}}}},"404":{"description":"Shop Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/account":{"get":{"tags":["Gestion du compte principal"],"summary":"Afficher le compte principal","description":"Donne les informations sur le compte principal PayGreen.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Account"}}}},"404":{"description":"Account Not Found"},"400":{"description":"Invalid ID"}}},"put":{"tags":["Gestion du compte principal"],"summary":"Met \u00e0 jour le compte principal","description":"Met \u00e0 jour les donn\u00e9es du compte principal","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Account","description":"Mod\u00e8le de donn\u00e9es du compte principal PayGreen","required":true,"schema":{"$ref":"#\/definitions\/Account"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Account"}}}},"404":{"description":"Account Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/address":{"get":{"tags":["Gestion de l\u0027adresse"],"summary":"Liste des adresses","description":"Obtenir la liste de vos adresses","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Address"}}}},"404":{"description":"Address Not Found"},"400":{"description":"Invalid ID"}}},"post":{"tags":["Gestion de l\u0027adresse"],"summary":"Cr\u00e9er une adresse","description":"Cr\u00e9er une nouvelle adresse. Pour cr\u00e9er une nouvelle adresse, vous devez fournir les donn\u00e9es pr\u00e9sentes dans l\u0027exemple.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Address","description":"Mod\u00e8le d\u0027une adresse","required":true,"schema":{"$ref":"#\/definitions\/Address"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Address"}}}},"404":{"description":"Address Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/shareholder":{"get":{"tags":["Gestion des propri\u00e9taires"],"summary":"Liste des propri\u00e9taires","description":"Obtenir la liste des propri\u00e9taires","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shareholder"}}}},"404":{"description":"Shareholder Not Found"},"400":{"description":"Invalid ID"}}},"post":{"tags":["Gestion des propri\u00e9taires"],"summary":"Cr\u00e9er un propri\u00e9taire","description":"Cr\u00e9er un nouveau propri\u00e9taire. Il vous est possible d\u0027instancier plusieurs personnes en m\u00eame temps en envoyant un tableau de plusieurs propri\u00e9taires.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Shareholder","description":"Mod\u00e8le d\u0027un propri\u00e9taire","required":true,"schema":{"$ref":"#\/definitions\/Shareholder"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Shareholder"}}}},"404":{"description":"Shareholder Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/documents":{"get":{"tags":["Gestion des documents\/KYCs"],"summary":"Liste des documents","description":"Obtenir la liste des documents n\u00e9cessaires","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Kyc"}}}},"404":{"description":"Kyc Not Found"},"400":{"description":"Invalid ID"}}},"post":{"tags":["Gestion des documents\/KYCs"],"summary":"Envoyer des documents","description":"Permet d\u0027envoyer un ou des document(s) manquant(s). Ici nous utilisons la m\u00e9thode classique d\u0027un formulaire : envoi des documents en multipart. Vous pouvez retrouver plus d\u0027informations sur cette technique [ici](https:\/\/developer.mozilla.org\/fr\/docs\/HTTP\/Headers\/Content-Type)","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"header","name":"Content-Type","description":"multipart\/form-data; boundary=-------------------------acebdf13572","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Kyc"}}}},"404":{"description":"Kyc Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/documents\/{id}":{"get":{"tags":["Gestion des documents\/KYCs"],"summary":"Obtenir un document","description":"Obtenir plus d\u0027informations sur un document","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID d\u0027un document","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Kyc"}}}},"404":{"description":"Kyc Not Found"},"400":{"description":"Invalid ID"}}},"delete":{"tags":["Gestion des documents\/KYCs"],"summary":"Supprimer un document","description":"Supprimer un document \u00e0 partir de son `id`","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID d\u0027un document","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation"},"404":{"description":" Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/paymenttype":{"get":{"tags":["Les moyens de paiement"],"summary":"Liste des moyens de paiement","description":"Cette m\u00e9thode permet de lister les moyens de paiement disponibles pour votre boutique.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nNotez que cette m\u00e9thode ne retourne que les moyens de paiement activ\u00e9s\u0026nbsp;: le `status` est donc toujours de `\u00222\u0022`.\u003Cbr \/\u003E\nLe champ `data` est alors un tableau de moyens de paiement \u00e0 parcourir.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nVous avez la possibilit\u00e9 d\u0027affiner cette liste en ajoutant dans l\u0027URL les deux param\u00e8tres suivants (optionnels)\u0026nbsp;:\u003Cbr \/\u003E\n- Affichage d\u0027un seul type de moyen de paiement avec le param\u00e8tre `paymentType`\u0026nbsp;: par exemple, `paymentType=CB` permettra de ne retourner que la liste des moyens de paiement **CB\/Visa\/Mastercard**.\u003Cbr \/\u003E\n- Affichage des moyens de paiement par devise avec le param\u00e8tre `currency`\u0026nbsp; par exemple, `currency=EUR` permet de ne retourner que les moyens de paiement permettant de r\u00e9gler en **euros**.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/PartnerConfig"}}}},"404":{"description":"PartnerConfig Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/transaction\/{id}":{"get":{"tags":["Les transactions"],"summary":"D\u00e9tails","description":"Cette requ\u00eate vous permet d\u0027obtenir tous les d\u00e9tails d\u0027une transaction. Le montant de la transaction est toujours en centimes.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID de la transaction","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}},"put":{"tags":["Les transactions"],"summary":"Confirmer une transaction","description":"Cette requ\u00eate vous permet de confirmer une transaction **e-caution** ou **\u00e0 la livraison**. Le montant de la transaction doit \u00eatre en centimes.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID de la transaction","required":true,"type":"string"},{"in":"body","name":"ExecuteTransaction","description":"Le montant de la transaction doit \u00eatre en centimes.","required":true,"schema":{"$ref":"#\/definitions\/ExecuteTransaction"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}},"patch":{"tags":["Les transactions"],"summary":"Modification du montant","description":"Cette requ\u00eate vous permet de modifier le montant d\u0027un paiement en cours. Vous pouvez uniquement modifier le montant d\u0027un paiement en attente.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID de la transaction","required":true,"type":"string"},{"in":"body","name":"PatchAmount","description":"Le montant de la transaction doit \u00eatre en centimes.","required":true,"schema":{"$ref":"#\/definitions\/PatchAmount"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}},"delete":{"tags":["Les transactions"],"summary":"Remboursement","description":"Cette requ\u00eate vous permet de rembourser totalement ou partiellement une transaction. Si vous souhaitez effectuer un remboursement **partiel**, indiquez le montant \u00e0 rembourser dans le champ `amount`. Si le param\u00e8tre `amount` n\u0027est pas renseign\u00e9, la transaction sera **int\u00e9gralement** rembours\u00e9e. Le body doit \u00eatre ```{\u0022amount\u0022 : 500 }``` pour effectuer un remboursement de 5\u20ac. Vous recevrez en r\u00e9ponse le d\u00e9tail de la transaction concern\u00e9. Si le remboursement est int\u00e9gral, la transaction passe au statut ```REFUNDED```.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID de la transaction","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/transaction\/cash":{"post":{"tags":["Les transactions"],"summary":"Paiement comptant","description":"Cette requ\u00eate vous permet de cr\u00e9er un paiement **comptant**. Le param\u00e8tre `returned_url` est optionnel\u0026nbsp;: le renseigner vous permettra de rediriger automatiquement votre client vers la page de votre choix (sur votre e-commerce). S\u0027il n\u0027est pas renseign\u00e9, le client restera sur la page de confirmation de notre interface de paiement. *Voir le sch\u00e9ma de flux de paiement pour visualiser le parcours client*.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `notified_url`, quant \u00e0 lui, nous permet de vous envoyer [l\u0027IPN de la transaction](#tag\/Les-transactions). Dans le cas d\u0027un paiement comptant, l\u0027IPN est envoy\u00e9e \u00e0 partir du moment o\u00f9 le consommateur a r\u00e9gl\u00e9 son achat. Cela peut parfois prendre plusieurs minutes.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nSi vous ne proposez pas la compensation carbone \u00e0 vos clients (l\u0027option **Tree**), il est inutile de renseigner le param\u00e8tre `idFingerprint`.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `eligibleAmount` est optionnel\u0026nbsp;: vous n\u0027avez \u00e0 le renseigner que si vous proposez \u00e0 vos clients de payer avec un moyen de paiement n\u00e9cessitant la gestion du montant \u00e9ligible. Pour plus de d\u00e9tails, consultez la section [Les moyens de paiement](#tag\/Les-moyens-de-paiement).\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `card` est optionnel\u0026nbsp;: \u00e0 moins de vouloir ex\u00e9cuter une [empreinte de carte](#tag\/L\u0027empreinte-de-carte), ce param\u00e8tre **ne doit donc pas \u00eatre envoy\u00e9** dans la requ\u00eate.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E **Qu\u0027est-ce que l\u0027option OneClick\u0026nbsp;?** Le OneClick permet au consommateur d\u0027enregistrer sa carte bancaire lors d\u0027un achat sur votre plateforme afin de la r\u00e9utiliser ult\u00e9rieurement, sans avoir \u00e0 renseigner ses codes \u00e0 nouveau. Si vous souhaitez proposer cette option \u00e0 vos clients, il vous suffit de demander l\u0027activation du module OneClick sur votre boutique PayGreen \u00e0 notre support.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Payins","description":"Transaction comptant ou \u00e0 la livraison","required":true,"schema":{"$ref":"#\/definitions\/Payins"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/transaction\/subscription":{"post":{"tags":["Les transactions"],"summary":"Paiement abonnement","description":"Cette requ\u00eate vous permet de cr\u00e9er un **abonnement**. \u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `returned_url` est optionnel\u0026nbsp;: le renseigner vous permettra de rediriger automatiquement votre client vers la page de votre choix (sur votre e-commerce). S\u0027il n\u0027est pas renseign\u00e9, le client restera sur la page de confirmation de notre interface de paiement. *Voir le sch\u00e9ma de flux de paiement pour visualiser le parcours client*.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `notified_url`, quant \u00e0 lui, nous permet de vous envoyer [l\u0027IPN de la transaction](#tag\/Les-transactions). Dans le cas d\u0027un abonnement, l\u0027IPN est envoy\u00e9e \u00e0 chaque \u00e9ch\u00e9ance (la premi\u00e8re est imm\u00e9diate). Cela peut parfois prendre plusieurs minutes.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nSi vous ne proposez pas la compensation carbone \u00e0 vos clients (l\u0027option **Tree**), il est inutile de renseigner le param\u00e8tre `idFingerprint`.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `card` est optionnel\u0026nbsp;: \u00e0 moins de vouloir ex\u00e9cuter une [empreinte de carte](#tag\/L\u0027empreinte-de-carte), ce param\u00e8tre **ne doit donc pas \u00eatre envoy\u00e9** dans la requ\u00eate.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `eligibleAmount` est inutile et ne doit pas \u00eatre renseign\u00e9 pour ce mode de paiement.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"PayinsRecc","description":"Transaction abonnement ou N fois","required":true,"schema":{"$ref":"#\/definitions\/PayinsRecc"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/transaction\/xtime":{"post":{"tags":["Les transactions"],"summary":"Paiement en plusieurs fois","description":"Cette requ\u00eate vous permet de cr\u00e9er un **paiement de type r\u00e9current ou X fois sans frais**. Le param\u00e8tre `returned_url` est optionnel\u0026nbsp;: le renseigner vous permettra de rediriger automatiquement votre client vers la page de votre choix (sur votre e-commerce). S\u0027il n\u0027est pas renseign\u00e9, le client restera sur la page de confirmation de notre interface de paiement. *Voir le sch\u00e9ma de flux de paiement pour visualiser le parcours client*.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `notified_url`, quant \u00e0 lui, nous permet de vous envoyer [l\u0027IPN de la transaction](#tag\/Les-transactions). Dans le cas d\u0027un paiement en plusieurs fois, l\u0027IPN est envoy\u00e9e \u00e0 chaque \u00e9ch\u00e9ance (la premi\u00e8re est imm\u00e9diate). Cela peut parfois prendre plusieurs minutes.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nSi vous ne proposez pas la compensation carbone \u00e0 vos clients (l\u0027option **Tree**), il est inutile de renseigner le param\u00e8tre `idFingerprint`.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `card` est optionnel\u0026nbsp;: \u00e0 moins de vouloir ex\u00e9cuter une [empreinte de carte](#tag\/L\u0027empreinte-de-carte), ce param\u00e8tre **ne doit donc pas \u00eatre envoy\u00e9** dans la requ\u00eate.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `eligibleAmount` est inutile et ne doit pas \u00eatre renseign\u00e9 pour ce mode de paiement.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"PayinsRecc","description":"Transaction abonnement ou N fois","required":true,"schema":{"$ref":"#\/definitions\/PayinsRecc"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/transaction\/tokenize":{"post":{"tags":["Les transactions"],"summary":"Paiement avec confirmation","description":"Cette requ\u00eate vous permet de cr\u00e9er un **paiement de type comptant \u00e0 la livraison**. Le param\u00e8tre `returned_url` est optionnel\u0026nbsp;: le renseigner vous permettra de rediriger automatiquement votre client vers la page de votre choix (sur votre e-commerce). S\u0027il n\u0027est pas renseign\u00e9, le client restera sur la page de confirmation de notre interface de paiement. *Voir le sch\u00e9ma de flux de paiement pour visualiser le parcours client*.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `notified_url`, quant \u00e0 lui, nous permet de vous envoyer [l\u0027IPN de la transaction](#tag\/Les-transactions). Dans le cas d\u0027un paiement avec confirmation, l\u0027IPN est envoy\u00e9e \u00e0 la confirmation du paiement. Cela peut parfois prendre plusieurs minutes.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nSi vous ne proposez pas la compensation carbone \u00e0 vos clients (l\u0027option **Tree**), il est inutile de renseigner le param\u00e8tre `idFingerprint`.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `eligibleAmount` est inutile et ne doit pas \u00eatre renseign\u00e9 pour ce mode de paiement.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Payins","description":"Transaction comptant ou \u00e0 la livraison","required":true,"schema":{"$ref":"#\/definitions\/Payins"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/transaction\/cancel":{"post":{"tags":["Les transactions"],"summary":"Annulation","description":"Cette requ\u00eate vous permet d\u0027annuler un paiement comptant, \u00e0 la livraison, par abonnement ou en plusieurs fois. Vous devez indiquer l\u0027id du paiement \u00e0 annuler dans le champ `id`.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID de la transaction","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/cardprint":{"post":{"tags":["L\u0027empreinte de carte"],"summary":"Cr\u00e9ation d\u0027une empreinte de carte","description":"La cr\u00e9ation de l\u0027empreinte de carte se traduit pour le consommateur par l\u0027affichage d\u0027une interface de paiement PayGreen, dans laquelle il va renseigner ses informations de carte. Le consommateur **n\u0027est pas d\u00e9bit\u00e9** lors de l\u0027empreinte.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nDans le cas d\u0027une empreinte de carte de type `SEPA`, l\u0027interface PayGreen demande des informations sur le consommateur (nom, pr\u00e9nom, date de naissance, mail) ainsi qu\u0027un Iban valide. Une fois ces donn\u00e9es confirm\u00e9es, le consommateur est redirig\u00e9 chez notre partenaire bancaire pour signer son mandat.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nPour obtenir cette interface, vous devez envoyer une requ\u00eate contenant notamment l\u0027identifiant de la commande (`orderId`) et les informations sur l\u0027acheteur (nom, pr\u00e9nom\u0026hellip; dans le `buyer`). \u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe client peut ensuite renseigner ses informations de carte bancaire et valider.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nDans le cas du TRD Conecs, lors de l\u0027utilisation d\u0027une empreinte de carte, si le montant disponible sur la carte est inf\u00e9rieur au montant demand\u00e9, une transaction avec le montant disponible sera cr\u00e9\u00e9. Par exemple, si vous demandez 19\u20ac mais que la carte n`a que 10\u20ac de disponible, notre API vous retournera un paiement valid\u00e9 avec un `amount` \u00e0 1000 et un `originalAmount` \u00e0 1900. C\u0027est \u00e0 vous de g\u00e9rer le compl\u00e9ment si besoin.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nUne fois l\u0027empreinte de carte effectu\u00e9e, vous recevez une r\u00e9ponse contenant notamment un `id` (dans le `data`). Vous pourrez alors renseigner cet `id` dans le param\u00e8tre `token` de l\u0027objet `card` lors de la cr\u00e9ation d\u0027un **paiement comptant** ou **paiement par abonnement** ou **paiement en plusieurs fois**.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"CardPrint","description":"Mod\u00e8le d\u0027une empreinte de carte.","required":true,"schema":{"$ref":"#\/definitions\/CardPrint"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/CardPrint"}}}},"404":{"description":"CardPrint Not Found"},"400":{"description":"Invalid ID"}}},"get":{"tags":["L\u0027empreinte de carte"],"summary":"Liste des empreintes de carte","description":"Cette requ\u00eate vous permet d\u0027obtenir la liste des empreintes de carte de votre boutique","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/CardPrint"}}}},"404":{"description":"CardPrint Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/cardprint\/{id}":{"get":{"tags":["L\u0027empreinte de carte"],"summary":"D\u00e9tails","description":"Cette requ\u00eate vous permet d\u0027obtenir tous les d\u00e9tails d\u0027une empreinte de carte.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"Api.Model.CardPrint.id","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/CardPrint"}}}},"404":{"description":"CardPrint Not Found"},"400":{"description":"Invalid ID"}}},"delete":{"tags":["L\u0027empreinte de carte"],"summary":"Supprimer une empreinte","description":"Cette requ\u00eate permet de supprimer une empreinte de don \u00e0 partir de son `id`.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"Api.Model.CardPrint.id","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation"},"404":{"description":" Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/solidarity":{"get":{"tags":["Gestion d\u0027une association"],"summary":"Liste des associations","description":"Obtenir la liste des associations","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Association"}}}},"404":{"description":"Association Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/solidarity\/{id}":{"patch":{"tags":["Les dons"],"summary":"Cr\u00e9er un don","description":"Cette requ\u00eate vous permet de cr\u00e9er un don li\u00e9 \u00e0 une transaction. Pour cela, il suffit de renseigner dans l\u0027URL, apr\u00e8s `\/solidarity\/`, l\u0027`id` de la transaction \u00e0 laquelle on souhaite ajouter un don.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID de la transaction","required":true,"type":"string"},{"in":"body","name":"Solidarity","description":"Mod\u00e8le de donn\u00e9es d\u0027un don.","required":true,"schema":{"$ref":"#\/definitions\/Solidarity"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Solidarity"}}}},"404":{"description":"Solidarity Not Found"},"400":{"description":"Invalid ID"}}},"get":{"tags":["Les dons"],"summary":"Afficher un don","description":"Cette requ\u00eate permet d\u0027obtenir les d\u00e9tails d\u0027un don \u00e0 partir de son `id`.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID du don","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Solidarity"}}}},"404":{"description":"Solidarity Not Found"},"400":{"description":"Invalid ID"}}},"delete":{"tags":["Les dons"],"summary":"Supprimer un don","description":"Cette requ\u00eate permet de supprimer un don \u00e0 partir de son `id`.","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID du don","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation"},"404":{"description":" Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/search":{"get":{"tags":["Recherche de transaction"],"summary":"Liste des transactions (boutique)","description":"Obtenir la liste des transactions de votre boutique","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payins\/search\/{id}":{"get":{"tags":["Recherche de transaction"],"summary":"Plus d\u0027informations","description":"Obtenir plus de d\u00e9tails sur une transaction \u00e0 partir de son id","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"ID de la transaction","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transaction"}}}},"404":{"description":"Transaction Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/bank":{"get":{"tags":["Gestion de mes RIB"],"summary":"Afficher mon RIB","description":"Obtenir le ou les RIB de la boutique","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Rib"}}}},"404":{"description":"Rib Not Found"},"400":{"description":"Invalid ID"}}},"post":{"tags":["Gestion de mes RIB"],"summary":"Cr\u00e9ation d\u0027un RIB","description":"Permet de cr\u00e9er un nouveau RIB. Pour cr\u00e9er un RIB, il faut donner les valeurs pr\u00e9sentes dans l\u0027exemple. Pour permettre la validation de votre RIB aupr\u00e8s de notre partenaire, il est n\u00e9cessaire de nous fournir un scan. Vous trouverez toutes les informations n\u00e9cessaires \u00e0 l\u0027envoit de documents dans la partie Gestion des Documents\/KYC","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Rib","description":"Mod\u00e8le de donn\u00e9es d\u0027un RIB","required":true,"schema":{"$ref":"#\/definitions\/Rib"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Rib"}}}},"404":{"description":"Rib Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payout\/transfer\/{id}":{"get":{"tags":["Les virements"],"summary":"D\u00e9tails","description":"Cette requ\u00eate vous permet d\u0027obtenir tous les d\u00e9tails d\u0027un virement","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"path","name":"id","description":"Api.Model.Transfer.id","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transfer"}}}},"404":{"description":"Transfer Not Found"},"400":{"description":"Invalid ID"}}}},"\/api\/{identifiant}\/payout\/transfer":{"post":{"tags":["Les virements"],"summary":"Cr\u00e9er un virement","description":"Cette m\u00e9thode permet de cr\u00e9er un virement. Si vous cr\u00e9ez un virement vers un compte bancaire (objet `bank`), votre RIB doit n\u00e9cessairement \u00eatre **valide**.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n### IPN d\u0027un virement\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nLe param\u00e8tre `callbackUrl` vous permet, s\u0027il est renseign\u00e9, d\u0027envoyer une notification (**IPN**) \u00e0 vos serveurs lors du changement de statut d\u0027un virement (afin de savoir pr\u00e9cis\u00e9ment si et quand le virement que vous avez cr\u00e9\u00e9 a bien \u00e9t\u00e9 effectu\u00e9). L\u0027envoi de l\u0027IPN peut parfois prendre plusieurs minutes.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\nIl existe 4 statuts de virement\u0026nbsp;:\u003Cbr \/\u003E\n- `WAITING`\u0026nbsp;: statut d\u0027un virement en attente. Statut par d\u00e9faut.\u003Cbr \/\u003E\n- `SUCCESS`\u0026nbsp;: virement effectu\u00e9 avec succ\u00e8s.\u003Cbr \/\u003E\n- `ERROR`\u0026nbsp;: une erreur est survenue lors du virement (il n\u0027a donc pas pu \u00eatre effectu\u00e9).\u003Cbr \/\u003E\n- `CANCEL`\u0026nbsp;: virement annul\u00e9 par notre \u00e9quipe.\u003Cbr \/\u003E\n\u003Cbr \/\u003E\n\u003E D\u00e8s lors que le statut du virement change (qu\u0027il passe en `SUCCESS`, `ERROR` ou plus rarement, `CANCEL`), l\u0027IPN est envoy\u00e9e \u00e0 l\u0027URL renseign\u00e9e dans le param\u00e8tre `callbackUrl`). *Voir le tableau ci-dessous pour le d\u00e9tails des informations renvoy\u00e9es dans l\u0027IPN*.\u003Cbr \/\u003E\n\u003Ctable\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Cth\u003EParam\u00e8tres\u003C\/th\u003E\u003Cth\u003EExemples de valeur\u003C\/th\u003E\u003Cth\u003ECommentaires\u003C\/th\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003Epid\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E37330ff88bd7f7b0082d031d6eb59bb4\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EID du virement\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003Eresult\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003ESUCCESS\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EStatut du virement. Ne peut \u00eatre que \u003Ccode\u003ESUCCESS\u003C\/code\u003E, \u003Ccode\u003EERROR\u003C\/code\u003E ou \u003Ccode\u003ECANCEL\u003C\/code\u003E.\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EorderId\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E\u0026hellip;\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003ECha\u00eene de caract\u00e8re cr\u00e9\u00e9e par le partenaire bancaire\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EshopId\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003Ece642ce1613b47667dbd3785e5faf666\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EVotre identifiant unique \u003Ccode\u003Eshop ID\u003C\/code\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003Eamount\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E9900\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EMontant en centimes\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EcreatedAt\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E2018-12-27T11:07:59Z\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EDate et heure de la cr\u00e9ation du virement\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EscheduledAt\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E2018-12-27T11:07:59Z\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EDate et heure de la planification du virement\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Ccode\u003EansweredAt\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Ccode\u003E2018-12-27T11:07:59Z\u003C\/code\u003E\u003C\/td\u003E\u003Ctd\u003EDate et heure auxquelles le virement a \u00e9t\u00e9 effectu\u00e9\u003C\/td\u003E\u003C\/tr\u003E\u003C\/tbody\u003E\u003C\/table\u003E","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"},{"in":"body","name":"Transfer","description":"Mod\u00e8le de donn\u00e9es d\u0027un virement.","required":true,"schema":{"$ref":"#\/definitions\/Transfer"}}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transfer"}}}},"404":{"description":"Transfer Not Found"},"400":{"description":"Invalid ID"}}},"get":{"tags":["Les virements"],"summary":"Liste des virements","description":"Cette requ\u00eate vous permet d\u0027obtenir la liste des virements de votre boutique","consumes":["application\/json"],"produces":["application\/json"],"parameters":[{"in":"path","name":"Identifiant","description":"Votre identifiant PayGreen","required":true,"type":"string"},{"in":"header","name":"Authorization","description":"Votre cl\u00e9 priv\u00e9e PayGreen (Bearer : votre-cl\u00e9-priv\u00e9e)","required":true,"type":"string"}],"responses":{"200":{"description":"Successful operation","schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":""},"code":{"type":"integer","example":0},"data":{"$ref":"#\/definitions\/Transfer"}}}},"404":{"description":"Transfer Not Found"},"400":{"description":"Invalid ID"}}}}},"host":"paygreen.fr","definitions":{"AuthAccessToken":{"type":"object","properties":{"accessPublic":{"type":"string","example":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","readOnly":true},"accessSecret":{"type":"string","example":"xxxx-xxxx-xxxx-xxxxxxxxxxxx","readOnly":true},"ipAddress":{"type":"string","example":"127.0.0.1"},"serverAddress":{"type":"string","example":"127.0.0.1"},"email":{"type":"string","example":"contact@paygreen.fr"},"name":{"type":"string","example":"name"},"phoneNumber":{"type":"string","example":"0952045779"},"expiresIn":{"type":"integer","format":"int64","example":3600,"readOnly":true}},"required":["ipAddress","email","name"]},"\\Zend\\Http\\Response":{"type":"object","properties":[]},"Shop":{"type":"object","properties":{"id":{"type":"string","example":"37330ff88bd7f7b0082d031d6eb59bb4","readOnly":true},"name":{"type":"string","example":"Mon E-Commerce"},"url":{"type":"string","example":"https:\/\/paygreen.fr"},"privateKey":{"type":"string","example":"c6d3-4a3f-a848-26d89c1afa60","readOnly":true},"availableMode":{"type":"array","items":{"type":"string"},"example":["CASH","RECURRING"]},"businessIdentifier":{"type":"string","example":"111111111125354"},"companyType":{"type":"string","example":"COMPANY"},"description":{"type":"string","example":"Mon E-Commerce est un site de vente en ligne."},"activate":{"type":"boolean","example":true,"readOnly":true},"validatedAt":{"type":"string","format":"date-time","readOnly":true},"createdAt":{"type":"string","format":"date-time","example":"2004-02-12T15:19:21","readOnly":true},"paiementType":{"type":"string","enum":["withVAD","withoutVAD"],"example":"withoutVAD"},"withVad":{"type":"object","properties":{"enabled":{"type":"boolean","readOnly":true},"activate":{"type":"boolean","readOnly":true}},"readOnly":true},"withoutVad":{"type":"object","properties":{"enabled":{"type":"boolean","readOnly":true},"activate":{"type":"boolean","readOnly":true}},"readOnly":true},"extra":{"type":"array","items":{"type":"string"},"example":{"redirectionAfterPaiement":"DIRECT","sendPaiementConfirmation":"SEND","notifyPaiementConfirmation":"SEND","redirectMethod":"POST"}}},"required":["name","url","availableMode","businessIdentifier","companyType","description","paiementType"]},"ShopPatch":{"type":"object","properties":{"validate":{"type":"boolean","example":true},"activate":{"type":"boolean","example":true}},"required":["validate","activate"]},"Account":{"type":"object","properties":{"id":{"type":"string","example":"37330ff88bd7f7b0082d031d6eb59bb5","readOnly":true},"name":{"type":"string","example":"Compte principal"},"siret":{"type":"string","example":"111 111 111 111111"},"type":{"type":"string","enum":["account","type"],"example":"COMPANY"},"createdAt":{"type":"string","format":"date-time","example":"2004-02-12T15:19:21","readOnly":true}},"required":["name","siret"]},"Address":{"type":"object","properties":{"street":{"type":"string","example":"80 Boulevard de Clichy"},"complement":{"type":"string","readOnly":true},"zipCode":{"type":"string","example":"75000"},"city":{"type":"string","example":"Paris"},"country":{"type":"string","example":"FR","description":"Il s\u0027agit de la norme ISO 3166-2 alpha-2 ou alpha-3."}},"required":["street","zipCode","city","country"]},"Shareholder":{"type":"object","properties":{"firstName":{"type":"string","example":"firstName"},"lastName":{"type":"string","example":"lastName"},"birthday":{"type":"string","format":"date-time","example":"YYYY-MM-DD"},"country":{"type":"string","example":"FR","description":"Il s\u0027agit de la norme ISO 3166-2 alpha-2 ou alpha-3."}},"required":["firstName","lastName","birthday","country"]},"Kyc":{"type":"object","properties":{"id":{"type":"string","example":"JUSTDOM","readOnly":true},"status":{"type":"string","enum":["99","10","1","2","-1"],"readOnly":true},"reason":{"type":"string","readOnly":true},"callbackUrl":{"type":"string","example":"http:\/\/example.com\/callbackKyc"}}},"PartnerConfig":{"type":"object","properties":{"currency":{"type":"string","example":"EUR"},"paymentType":{"type":"string","example":"CB"},"status":{"type":"string","example":"2"},"mode":{"type":"string"},"availablePaymentMode":{"type":"array","example":["CASH","TOKENIZE"],"readOnly":true},"iframe":{"type":"array","example":{"CASH":{"minHeight":430,"minWidth":350}},"readOnly":true},"isLimited":{"type":"boolean","example":true,"readOnly":true},"soldAvailable":{"type":"integer","format":"int64","example":1000,"readOnly":true}},"required":["mode"]},"Transaction":{"type":"object","properties":{"id":{"type":"string","example":"tr15acde62ecfc1b8a2a1706b3f17a714e"},"paymentToken":{"type":"string","example":"1NUytzyEgkdowJdwI1751555436136710","readOnly":true},"paymentFolder":{"type":"string","example":"prabcdef1234567890","readOnly":true},"orderId":{"type":"string","example":"test-123","readOnly":true},"amount":{"type":"integer","format":"int64","example":9900,"readOnly":true,"description":"Le montant est en centimes."},"originalAmount":{"type":"integer","format":"int64","example":9900,"readOnly":true},"currency":{"type":"string","example":"EUR","readOnly":true},"type":{"type":"string","example":"CASH","readOnly":true},"paymentType":{"type":"string","example":"CB"},"url":{"type":"string","example":"http:\/\/paygreen.fr\/payment\/execute\/","readOnly":true,"description":"Pour effectuer une transaction en utilisant le module Insite, il faut ajouter \u0022display=insite\u0022 dans l\u0027URL de paiement."},"testMode":{"type":"integer","format":"int64","readOnly":true},"result":{"type":"object","properties":{"status":{"type":"string","readOnly":true,"example":"SUCCESSED"},"threeDSecureStatus":{"type":"string","readOnly":true,"example":"3DS_SUCCESSED"},"paymentErrorStatus":{"type":"string","readOnly":true}},"readOnly":true},"card":{"type":"object","properties":{"number":{"type":"string","readOnly":true,"example":"800025XXXXXX0004"},"expiration":{"type":"string","readOnly":true,"example":"0121"},"bank":{"type":"string","readOnly":true,"example":"BP"},"country":{"type":"string","readOnly":true,"example":"FR"}},"readOnly":true},"buyer":{"type":"object","properties":{"id":{"type":"string","readOnly":true,"example":"123654789"},"lastName":{"type":"string","readOnly":true,"example":"Pay"},"firstName":{"type":"string","readOnly":true,"example":"Green"},"email":{"type":"string","readOnly":true,"example":"contact@paygreen.fr"},"country":{"type":"string","readOnly":true,"example":"FR"},"ipAddress":{"type":"string","readOnly":true,"example":"127.0.0.1"},"companyName":{"type":"string","example":"PayGreen"}}},"shippingAddress":{"type":"object","properties":{"lastName":{"type":"string","readOnly":true,"example":"Last Name"},"firstName":{"type":"string","readOnly":true,"example":"First Name"},"address":{"type":"string","readOnly":true,"example":"Place Saint Marc"},"address2":{"type":"string","readOnly":true,"example":"Building\u0027s name"},"company":{"type":"string","readOnly":true,"example":"Company name"},"zipCode":{"type":"string","readOnly":true,"example":"30124"},"city":{"type":"string","readOnly":true,"example":"Venise"},"country":{"type":"string","readOnly":true,"example":"ITA"},"type":{"type":"string","readOnly":true,"example":"NEW"}},"readOnly":true},"billingAddress":{"type":"object","properties":{"lastName":{"type":"string","readOnly":true,"example":"Last Name"},"firstName":{"type":"string","readOnly":true,"example":"First Name"},"address":{"type":"string","readOnly":true,"example":"Place Saint Marc"},"address2":{"type":"string","readOnly":true,"example":"Building\u0027s name"},"company":{"type":"string","readOnly":true,"example":"Company name"},"zipCode":{"type":"string","readOnly":true,"example":"30124"},"city":{"type":"string","readOnly":true,"example":"Venise"},"country":{"type":"string","readOnly":true,"example":"ITA"}},"readOnly":true},"schedules":{"type":"object","properties":{"rank":{"type":"integer","format":"int64","readOnly":true,"example":129},"amount":{"type":"integer","format":"int64","readOnly":true,"example":101},"currency":{"type":"string","readOnly":true,"example":"EUR"},"status":{"type":"string","readOnly":true,"example":"EUR"},"valueAt":{"type":"string","format":"date-time","readOnly":true,"example":"101"},"id":{"type":"string","readOnly":true,"example":"EUR"}},"readOnly":true},"donation":{"type":"object","properties":{"associationId":{"type":"integer","format":"int64","readOnly":true,"example":129},"status":{"type":"string","readOnly":true,"example":"PENDING"},"type":{"type":"string","readOnly":true,"example":"ROUNDING"},"amount":{"type":"integer","format":"int64","readOnly":true,"example":101},"currency":{"type":"string","readOnly":true,"example":"EUR"},"refundable":{"type":"boolean","readOnly":true,"example":true}},"readOnly":true},"metadata":{"type":"array","items":{"type":"string"},"example":{"orderId":"test-123","display":"0"}},"eligibleAmount":{"type":"array","items":{"type":"string"},"example":{"ANCV":"1000","RESTOFLASH":"0"}},"explanation":{"type":"string","example":"Insufficient provision or exceeded credit","readOnly":true},"idFingerprint":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time","readOnly":true},"valueAt":{"type":"string","format":"date-time","readOnly":true},"answeredAt":{"type":"string","format":"date-time","readOnly":true},"ttl":{"type":"string","example":"PT10M"}},"required":["paymentType","lastName","firstName","address","zipCode","city","country","associationId","amount","currency","valueAt"]},"ExecuteTransaction":{"type":"object","properties":{"amount":{"type":"integer","format":"int64","example":9900,"description":"Le montant est en centimes."},"message":{"type":"string"}},"required":["amount","message"]},"PatchAmount":{"type":"object","properties":{"amount":{"type":"integer","format":"int64","example":9900,"description":"Le montant est en centimes."}},"required":["amount"]},"Payins":{"type":"object","properties":{"orderId":{"type":"string","example":"123456"},"amount":{"type":"integer","format":"int64","example":9000,"description":"Le montant est en centimes."},"currency":{"type":"string","example":"EUR"},"paymentType":{"type":"string","example":"CB"},"returned_url":{"type":"string","example":"http:\/\/example.com\/retour-client","description":"Adresse sur laquelle il faut rediriger le client apr\u00e8s que l\u0027action a \u00e9t\u00e9 effectu\u00e9e."},"notified_url":{"type":"string","example":"http:\/\/example.com\/retour-server","description":"Adresse sur laquelle PayGreen peut faire des appels pour mettre \u00e0 jour le statut."},"idFingerprint":{"type":"integer","format":"int64"},"buyer":{"type":"object","properties":{"id":{"type":"string","example":"123654789"},"lastName":{"type":"string","example":"Pay"},"firstName":{"type":"string","example":"Green"},"email":{"type":"string","example":"contact@paygreen.fr"},"country":{"type":"string","example":"FR"},"companyName":{"type":"string","example":"PayGreen"}}},"shippingAddress":{"type":"object","properties":{"lastName":{"type":"string","example":"Doe"},"firstName":{"type":"string","example":"John"},"address":{"type":"string","example":"69 rue longpaon"},"zipCode":{"type":"string","example":"76000"},"city":{"type":"string","example":"Rouen"},"country":{"type":"string","example":"FR"}}},"billingAddress":{"type":"object","properties":{"lastName":{"type":"string","example":"Doe"},"firstName":{"type":"string","example":"John"},"address":{"type":"string","example":"69 rue longpaon"},"zipCode":{"type":"string","example":"76000"},"city":{"type":"string","example":"Rouen"},"country":{"type":"string","example":"FR"}}},"metadata":{"type":"array","items":{"type":"string"},"example":{"orderId":"test-123","display":"0"}},"eligibleAmount":{"type":"array","items":{"type":"string"},"example":{"ANCV":"1000","RESTOFLASH":"0"}},"card":{"type":"object","properties":{"token":{"type":"string","example":"abcdef1234567890"}}},"withPaymentLink":{"type":"boolean","example":true,"readOnly":true},"emails":{"type":"array","example":["support@paygreen.fr","test@test.fr"],"readOnly":true},"contentMail":{"type":"string","example":["Voici ce le lien de paiement !"],"readOnly":true},"ttl":{"type":"string","example":"PT10M"}},"required":["orderId","amount","currency"]},"PayinsRecc":{"type":"object","properties":{"orderId":{"type":"string","example":"123456"},"amount":{"type":"integer","format":"int64","example":9000,"description":"Le montant est en centimes."},"currency":{"type":"string","example":"EUR"},"paymentType":{"type":"string","example":"CB"},"returned_url":{"type":"string","example":"http:\/\/example.com\/retour-client","description":"Adresse sur laquelle il faut rediriger le client apr\u00e8s que l\u0027action a \u00e9t\u00e9 effectu\u00e9e."},"notified_url":{"type":"string","example":"http:\/\/example.com\/retour-server","description":"Adresse sur laquelle PayGreen peut faire des appels pour mettre \u00e0 jour le statut."},"idFingerprint":{"type":"integer","format":"int64"},"orderDetails":{"type":"object","properties":{"cycle":{"type":"integer","format":"int64","example":40},"count":{"type":"integer","format":"int64","example":3},"day":{"type":"integer","format":"int64"},"startAt":{"type":"string","format":"date-time"},"firstAmount":{"type":"integer","format":"int64"}}},"shippingAddress":{"type":"object","properties":{"lastName":{"type":"string","example":"Doe"},"firstName":{"type":"string","example":"John"},"address":{"type":"string","example":"69 rue longpaon"},"zipCode":{"type":"string","example":"76000"},"city":{"type":"string","example":"Rouen"},"country":{"type":"string","example":"FR"}}},"billingAddress":{"type":"object","properties":{"lastName":{"type":"string","example":"Doe"},"firstName":{"type":"string","example":"John"},"address":{"type":"string","example":"69 rue longpaon"},"zipCode":{"type":"string","example":"76000"},"city":{"type":"string","example":"Rouen"},"country":{"type":"string","example":"FR"}}},"card":{"type":"object","properties":{"token":{"type":"string","example":"abcdef1234567890"}}},"metadata":{"type":"array","items":{"type":"string"},"example":{"orderId":"test-123","display":"0"}},"eligibleAmount":{"type":"array","items":{"type":"string"},"example":{"ANCV":"1000","RESTOFLASH":"0"}},"withPaymentLink":{"type":"boolean","example":true,"readOnly":true},"emails":{"type":"array","example":["support@paygreen.fr","test@test.fr"],"readOnly":true},"contentMail":{"type":"string","example":["Voici ce le lien de paiement !"],"readOnly":true},"ttl":{"type":"string","example":"PT10M"}},"required":["orderId","amount","currency"]},"CardPrint":{"type":"object","properties":{"id":{"type":"string","example":"abcdef1234567890","readOnly":true},"orderId":{"type":"string","example":"test-123","description":"Il s\u0027agit du token li\u00e9 \u00e0 votre empreinte de carte."},"paymentType":{"type":"string","example":"CB"},"returned_url":{"type":"string","example":"http:\/\/example.com\/retour-client","description":"Adresse sur laquelle il faut rediriger le client apr\u00e8s que l\u0027action a \u00e9t\u00e9 effectu\u00e9e."},"notified_url":{"type":"string","example":"http:\/\/example.com\/retour-server","description":"Adresse sur laquelle PayGreen peut faire des appels pour mettre \u00e0 jour le statut."},"url":{"type":"string","example":"http:\/\/paygreen.fr\/payment\/execute\/","readOnly":true},"testMode":{"type":"integer","format":"int64","readOnly":true},"result":{"type":"object","properties":{"status":{"type":"string","readOnly":true,"example":"SUCCESSED"},"threeDSecureStatus":{"type":"string","readOnly":true,"example":"3DS_SUCCESSED"},"paymentErrorStatus":{"type":"string","readOnly":true}},"readOnly":true},"card":{"type":"object","properties":{"number":{"type":"string","readOnly":true,"example":"800025XXXXXX0004"},"expiration":{"type":"string","readOnly":true,"example":"0121"},"bank":{"type":"string","readOnly":true,"example":"BP"},"country":{"type":"string","readOnly":true,"example":"FR"}},"readOnly":true},"buyer":{"type":"object","properties":{"id":{"type":"string","example":"123654789"},"lastName":{"type":"string","example":"Pay"},"firstName":{"type":"string","example":"Green"},"email":{"type":"string","example":"contact@paygreen.fr"},"country":{"type":"string","example":"FR"},"companyName":{"type":"string","example":"PayGreen"}}},"shippingAddress":{"type":"object","properties":{"lastName":{"type":"string","example":"Doe"},"firstName":{"type":"string","example":"John"},"address":{"type":"string","example":"69 rue courtpoussin"},"zipCode":{"type":"string","example":"76000"},"city":{"type":"string","example":"Rouen"},"country":{"type":"string","example":"FR"}}},"billingAddress":{"type":"object","properties":{"lastName":{"type":"string","example":"Doe"},"firstName":{"type":"string","example":"John"},"address":{"type":"string","example":"69 rue courtpoussin"},"zipCode":{"type":"string","example":"76000"},"city":{"type":"string","example":"Rouen"},"country":{"type":"string","example":"FR"}}},"metadata":{"type":"array","items":{"type":"string"},"example":{"orderId":"test-123","display":"0"},"readOnly":true},"explanation":{"type":"string","example":"Insufficient provision or exceeded credit","readOnly":true},"createdAt":{"type":"string","format":"date-time","readOnly":true},"valueAt":{"type":"string","format":"date-time","readOnly":true},"answeredAt":{"type":"string","format":"date-time","readOnly":true},"ttl":{"type":"string","example":"PT10M"}},"required":["orderId"]},"Association":{"type":"object","properties":{"id":{"type":"string","example":"123","readOnly":true},"name":{"type":"string","example":"Mon E-Asso"},"descriptif":{"type":"string","example":"Mon E-Asso"},"image":{"type":"string"},"createdAt":{"type":"string","format":"date-time","example":"2004-02-12T15:19:21","readOnly":true}},"required":["name","descriptif","image"]},"Solidarity":{"type":"object","properties":{"associationId":{"type":"integer","format":"int64","example":129},"status":{"type":"string","enum":["PENDING","SUCCESS","REFUND"],"example":"PENDING","readOnly":true},"type":{"type":"string","example":"ROUNDING","readOnly":true},"amount":{"type":"integer","format":"int64","example":101,"description":"Le montant est en centimes."},"currency":{"type":"string","example":"EUR"},"refundable":{"type":"boolean","example":true,"readOnly":true}},"required":["associationId","amount","currency"]},"Rib":{"type":"object","properties":{"id":{"type":"integer","format":"int64","example":123,"readOnly":true},"bankName":{"type":"string","example":"Ma Banque"},"iban":{"type":"string","example":"FR7613106005002000743520962"},"bic":{"type":"string","example":"CMCIFR2A"},"country":{"type":"string","example":"FR","description":"Il s\u0027agit de la norme ISO 3166-2 alpha-2 ou alpha-3."},"status":{"type":"string","enum":["2","1","3","-1","4"],"example":1,"readOnly":true},"isDefault":{"type":"string","example":1,"readOnly":true}},"required":["bankName","iban","bic","country"]},"Transfer":{"type":"object","properties":{"id":{"type":"string","example":"37330ff88bd7f7b0082d031d6eb59bb4","readOnly":true},"externalReference":{"type":"string","example":"37330ff88bd7f7b0082d031d6eb59bb4","readOnly":true},"publicReference":{"type":"string","example":"37330ff88bd7f7b0082d031d6eb59bb4","readOnly":true},"amount":{"type":"string","example":9900,"description":"Le montant est en centimes."},"currency":{"type":"string","example":"EUR"},"bankId":{"type":"integer","format":"int64","example":123},"status":{"type":"string","enum":["CANCEL","ERROR","SUCCESS","WAITING"],"readOnly":true},"callbackUrl":{"type":"string","example":"http:\/\/example.com\/retour-server"},"createdAt":{"type":"string","format":"date-time","example":"2004-02-12T15:19:21","readOnly":true},"scheduledAt":{"type":"string","format":"date-time","example":"2004-02-12T23:00:00","readOnly":true},"executedAt":{"type":"string","format":"date-time","example":"2004-02-12T23:00:05","readOnly":true}},"required":["amount","currency","bankId"]}}}
